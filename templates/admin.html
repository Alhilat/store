<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <style>
        body { font-family: system-ui, sans-serif; margin: 40px; background: #f1f5f9; color: #334155; }
        .panel { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 25px; }
        th { background: #f8fafc; text-align: left; padding: 12px; border-bottom: 2px solid #e2e8f0; }
        td { padding: 12px; border-bottom: 1px solid #e2e8f0; }
        .add-form { display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        input { padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; flex: 1; min-width: 150px; }
        .btn-save { background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; }
        .btn-delete { color: #ef4444; text-decoration: none; font-weight: 500; }
        .btn-delete:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="panel">
        <h1>Inventory Control</h1>
        <hr style="border: 0; border-top: 1px solid #e2e8f0; margin: 20px 0;">
        
        <h3>Add New Product</h3>
        <form action="/admin/add" method="POST" class="add-form">
            <input type="text" name="name" placeholder="Item Name" required>
            <input type="number" step="0.01" name="price" placeholder="Price (0.00)" required>
            <button type="submit" class="btn-save">Save Product</button>
        </form>

        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Product Name</th>
                    <th>Price</th>
                    <th style="text-align: right;">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for p in products %}
                <tr>
                    <td><code>#{{ p.id }}</code></td>
                    <td><strong>{{ p.name }}</strong></td>
                    <td>${{ "{:,.2f}".format(p.price) }}</td>
                    <td style="text-align: right;">
                        <a href="{{ url_for('admin_delete_product', product_id=p.id) }}" 
                           class="btn-delete" 
                           onclick="return confirm('Are you sure?')">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <p style="margin-top: 20px;"><a href="/" style="text-decoration: none; color: #64748b;">‚Üê Back to Storefront</a></p>
    </div>
</body>
</html>